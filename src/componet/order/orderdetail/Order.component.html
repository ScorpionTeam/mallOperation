<!--订单信息-->
<nz-card [nzNoHovering]="true" [ngClass]="'card'" [nzBordered]="false">
  <ng-template #title>
    <h3 class="card_title">订单信息</h3>
  </ng-template>
  <ng-template #body>
    <form nz-form #orederForm>
      <div nz-row [nzGutter]="40">
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>订单号</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{order.orderNo}}</span>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>微信订单号</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{order.wxOrderNo}}</span>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>订单状态</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{justifyPayStatus(order.orderStatus)}}</span>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>订单类型</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{dataTool.getOrderTypeStr(order.orderType)}}</span>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>商品金额</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{(order.goodFee/100).toFixed(2)}}</span>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>优惠金额</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{(order.reduceFee/100).toFixed(2)}}</span>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label> 实付金额</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{(order.paymentFee/100).toFixed(2)}}</span>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>支付类型</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{dataTool.getPayTypeStr(order.payType)}}</span>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>下单时间</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{order.createDate|date:"yyyy-mm-dd hh:mm:ss"}}</span>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" *ngIf="order.orderStatus=='1'?false:true">
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>支付时间</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{order.payDate|date:"yyyy-mm-dd hh:mm:ss"}}</span>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" *ngIf="order.orderStatus=='1'?false:order.orderStatus=='2'?false:true">
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>发货时间</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{order.deliveryDate|date:"yyyy-mm-dd hh:mm:ss"}}</span>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>消耗积分</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{order.operatePoint}}</span>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>买家留言</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{order.message}}</span>
            </div>
          </div>
        </div>
      </div>
    </form>
  </ng-template>
</nz-card>
<!--商品信息-->
<nz-card [nzNoHovering]="true" [ngClass]="'card'" [nzBordered]="false">
  <ng-template #title>
    <h3 class="card_title">商品信息</h3>
  </ng-template>
  <ng-template #body>
    <form nz-form #goodForm>
      <div nz-row [nzGutter]="40">
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>商品名称</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{order.goodName}}</span>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>商品编号</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{order.goodNo}}</span>
              <!--<nz-input [nzSize]="'large'" [nzPlaceHolder]="" [nzReadonly]="true"></nz-input>-->
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>购买数量</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{order.count}}</span>
            </div>
          </div>
        </div>
      </div>
    </form>
    <div style="text-align: center">
      <button nz-button [nzType]="'primary'" (click)="checkGoodDetail(order.goodId)">商品详情</button>
    </div>
  </ng-template>
</nz-card>
<!--买家信息-->
<nz-card [nzNoHovering]="true" [ngClass]="'card'" [nzBordered]="false">
  <ng-template #title>
    <h3 class="card_title">买家信息</h3>
  </ng-template>
  <ng-template #body>
    <form nz-form #customerForm>
      <div nz-row [nzGutter]="40">
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>收件人</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{order.recipients}}</span>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>收件人电话</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <nz-input [nzSize]="'large'" [nzPlaceHolder]="" [(ngModel)]="order.phone" name="phone"></nz-input>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>邮政编码</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{order.postCode}}</span>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>省</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{order.province}}</span>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>市</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{order.city}}</span>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>区</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{order.area}}</span>
            </div>
          </div>
        </div>
        <div nz-col [nzSpan]="8" >
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="5">
              <label>详细地址</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="15">
              <span class="order_item">{{order.address}}</span>
            </div>
          </div>
        </div>
      </div>
    </form>
  </ng-template>
</nz-card>
<!--订单日志-->
<div [ngClass]="'card_log'" >
  <h3 class="card_title">订单日志</h3>
  <nz-table #orderLogListTable [nzAjaxData]="orderLogList" [nzPageSize]="page.pageSize" [nzPageIndex]="page.pageNo"
            [nzLoading]="ngLoad" [nzShowSizeChanger]="true" [nzShowTotal]="true"
            (nzPageIndexChange)="pageChangeHandler($event)" [nzTotal]="page.total"
            [nzShowQuickJumper]="true" (nzPageSizeChange)="pageSizeChangeHandler($event)">
    <thead nz-thead>
    <tr>
      <th nz-th><span>操作</span></th>
      <th nz-th><span>IP</span></th>
      <th nz-th><span>生成时间</span></th>
    </tr>
    </thead>
    <tbody nz-tbody>
    <tr nz-tbody-tr *ngFor="let data of orderLogListTable.data;let index = index;">
      <td nz-td>{{data.action}}</td>
      <td nz-td>{{data.ipAddress}}</td>
      <td nz-td>{{data.createDate|date:"yyyy-mm-dd hh:mm:ss"}}</td>
    </tr>
    </tbody>
  </nz-table>
</div>
<div nz-row>
  <div nz-col [nzSpan]="24" style="text-align: center;">
    <button nz-button [nzType]="'primary'" (click)="save()">保存</button>
    <button nz-button (click)="back()">返回</button>
  </div>
</div>
